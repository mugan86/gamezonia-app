function _classCallCheck(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,c){for(var e=0;e<c.length;e++){var n=c[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,c,e){return c&&_defineProperties(t.prototype,c),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"6Ar+":function(t,c,e){"use strict";e.r(c),e.d(c,"DetailsModule",(function(){return O}));var n=e("ofXK"),i=e("tyNb"),o=e("b1el"),r=e("X1hh"),a=e("fXoL"),s=e("pFVZ"),l=e("e+rv"),u=e("ObHw");function d(t,c){if(1&t){var e=a.Sb();a.Rb(0,"img",22),a.dc("click",(function(){a.vc(e);var t=c.index;return a.fc(2).selectImgMain(t)})),a.Qb()}if(2&t){var n=c.$implicit;a.nc("alt","Screen ",c.index,""),a.lc("src",n,a.wc)}}function b(t,c){if(1&t&&(a.Rb(0,"div",23),a.Dc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Gc(" ",e.currencySelect," ",e.product.price," ")}}function p(t,c){if(1&t&&(a.Rb(0,"div",23),a.Dc(1),a.gc(2,"number"),a.Rb(3,"span"),a.Dc(4),a.gc(5,"number"),a.Qb(),a.Rb(6,"span",24),a.Dc(7),a.Qb(),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Gc(" ",e.currencySelect," ",a.hc(2,5,e.product.priceDiscount)," "),a.zb(3),a.Gc(" ",e.currencySelect," ",a.hc(5,7,e.product.price)," "),a.zb(3),a.Fc(" (",e.product.discount," %) ")}}function f(t,c){if(1&t&&(a.Rb(0,"option",16),a.Dc(1),a.Qb()),2&t){var e=c.$implicit;a.lc("value",e.id),a.zb(1),a.Ec(e.platform.name)}}var g=function(t){return["/games/details",t]};function m(t,c){if(1&t&&(a.Rb(0,"div",25),a.Rb(1,"a",26),a.Nb(2,"img",27),a.Qb(),a.Qb()),2&t){var e=c.$implicit;a.zb(1),a.oc("title","",e.name," ( ",e.description,")"),a.lc("routerLink",a.qc(6,g,e.id)),a.zb(1),a.oc("alt","",e.name," ( ",e.description,")"),a.lc("src",e.img,a.wc)}}function v(t,c){if(1&t){var e=a.Sb();a.Rb(0,"div",1),a.Rb(1,"div",2),a.Rb(2,"div",3),a.Bc(3,d,1,2,"img",4),a.Qb(),a.Rb(4,"div",5),a.Nb(5,"img",6),a.Qb(),a.Rb(6,"div",7),a.Rb(7,"h4",8),a.Dc(8),a.Qb(),a.Rb(9,"div",2),a.Rb(10,"div",9),a.Nb(11,"shop-rating",10),a.Qb(),a.Rb(12,"div",9),a.Bc(13,b,2,2,"ng-template",null,11,a.Cc),a.Bc(15,p,8,9,"div",12),a.Qb(),a.Rb(16,"div",9),a.Dc(17),a.Nb(18,"hr"),a.Rb(19,"shop-qty-selector",13),a.dc("updateValue",(function(t){return a.vc(e),a.fc().changeValue(t)})),a.Qb(),a.Qb(),a.Qb(),a.Nb(20,"br"),a.Rb(21,"span",14),a.Dc(22,"Plataformas:"),a.Qb(),a.Dc(23,"\xa0 "),a.Rb(24,"select",15),a.dc("change",(function(t){return a.vc(e),a.fc().selectOtherPlatform(t)})),a.Rb(25,"option",16),a.Dc(26),a.Qb(),a.Bc(27,f,2,2,"option",17),a.Qb(),a.Rb(28,"button",18),a.dc("click",(function(){return a.vc(e),a.fc().addToCart()})),a.Nb(29,"i",19),a.Dc(30,"\xa0\xa0 A\xf1adir"),a.Qb(),a.Qb(),a.Qb(),a.Nb(31,"hr"),a.Rb(32,"h3",20),a.Dc(33,"Juegos que te puedan interesar"),a.Qb(),a.Rb(34,"div",2),a.Bc(35,m,3,8,"div",21),a.Qb(),a.Qb()}if(2&t){var n=a.uc(14),i=a.fc();a.zb(3),a.lc("ngForOf",i.screens),a.zb(2),a.lc("src",i.selectImage,a.wc),a.zb(3),a.Gc("",i.product.name," ( ",i.product.description,")"),a.zb(3),a.lc("rating",i.product.rating),a.zb(4),a.lc("ngIf",i.product.discount)("ngIfElse",n),a.zb(2),a.Fc(" Stock: ",i.product.stock," "),a.zb(2),a.lc("qty",i.product.qty)("stock",i.product.stock),a.zb(6),a.lc("value",i.product.id),a.zb(1),a.Ec(i.product.description),a.zb(1),a.lc("ngForOf",i.relationalProducts),a.zb(8),a.lc("ngForOf",i.randomItems)}}var h,y,C,P=[{path:"",component:(h=function(){function t(c,e,n){_classCallCheck(this,t),this.productService=c,this.activatedRoute=e,this.cartService=n,this.currencySelect=r.b,this.randomItems=[],this.screens=[],this.relationalProducts=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe((function(c){console.log("parametro detalles",+c.id),Object(o.d)("Cargando datos","Espera mientras carga la informaci\xf3n"),t.loading=!0,t.loadDataValue(+c.id)})),this.cartService.itemsVar$.subscribe((function(c){console.log(c),t.product.qty=0!==c.subtotal?t.findProduct(+t.product.id).qty:1}))}},{key:"findProduct",value:function(t){return this.cartService.cart.products.find((function(c){return+c.id===t}))}},{key:"loadDataValue",value:function(t){var c=this;this.productService.getItem(t).subscribe((function(t){console.log(t),c.product=t.product;var e=c.findProduct(+c.product.id);c.product.qty=void 0!==e?e.qty:c.product.qty,c.selectImage=c.product.img,c.screens=t.screens,c.relationalProducts=t.relational,c.randomItems=t.random,c.loading=!1,Object(o.a)()}))}},{key:"changeValue",value:function(t){this.product.qty=t}},{key:"selectOtherPlatform",value:function(t){console.log(t.target.value),this.loadDataValue(+t.target.value)}},{key:"selectImgMain",value:function(t){this.selectImage=this.screens[t]}},{key:"addToCart",value:function(){this.cartService.manageProduct(this.product)}}]),t}(),h.\u0275fac=function(t){return new(t||h)(a.Mb(s.a),a.Mb(i.a),a.Mb(l.a))},h.\u0275cmp=a.Gb({type:h,selectors:[["app-details"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["id","screens-section",1,"col-md-1"],["class","img-fluid mini",3,"src","alt","click",4,"ngFor","ngForOf"],[1,"col-md-7"],["alt","",1,"img-fluid","main-img",3,"src"],[1,"col-md-4"],[1,"my-3"],[1,"col-lg-12"],[3,"rating"],["noDiscount",""],["class","price",4,"ngIf","ngIfElse"],[3,"qty","stock","updateValue"],[1,"h5"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-dark","mt-3",3,"click"],[1,"fas","fa-cart-plus"],[1,"my-4"],["class","col-md-2 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"img-fluid","mini",3,"src","alt","click"],[1,"price"],[1,"discount-percentage"],[1,"col-md-2","col-sm-6","mb-4"],[3,"routerLink","title"],[1,"img-fluid","more-games",3,"src","alt"]],template:function(t,c){1&t&&a.Bc(0,v,36,14,"div",0),2&t&&a.lc("ngIf",c.product&&!c.loading)},directives:[n.m,n.l,u.i,u.g,i.d],pipes:[n.e],styles:[".price[_ngcontent-%COMP%]{font-size:22px;font-weight:800;color:#cc1c39}.price[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;margin-left:5px;margin-bottom:12px}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#999;text-decoration:line-through}.price[_ngcontent-%COMP%]   span.discount-percentage[_ngcontent-%COMP%]{text-decoration:none}.price-total[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:-7px}.container[_ngcontent-%COMP%]{margin-top:25px}.mini[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width:600px){#screens-section[_ngcontent-%COMP%]{display:none}}.main-img[_ngcontent-%COMP%], .more-games[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;display:block;height:100%;width:100%}.more-games[_ngcontent-%COMP%]{max-height:105px}"]}),h)}],k=((C=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:C}),C.\u0275inj=a.Jb({factory:function(t){return new(t||C)},imports:[[i.e.forChild(P)],i.e]}),C),O=((y=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:y}),y.\u0275inj=a.Jb({factory:function(t){return new(t||y)},imports:[[n.c,k,u.j,u.h]]}),y)}}]);