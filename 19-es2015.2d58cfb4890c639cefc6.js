(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"6Ar+":function(t,c,n){"use strict";n.r(c),n.d(c,"DetailsModule",(function(){return R}));var e=n("ofXK"),i=n("tyNb"),o=n("b1el"),r=n("X1hh"),s=n("fXoL"),a=n("pFVZ"),l=n("e+rv"),d=n("ObHw");function b(t,c){if(1&t){const t=s.Sb();s.Rb(0,"img",22),s.dc("click",(function(){s.vc(t);const n=c.index;return s.fc(2).selectImgMain(n)})),s.Qb()}if(2&t){const t=c.$implicit;s.nc("alt","Screen ",c.index,""),s.lc("src",t,s.wc)}}function u(t,c){if(1&t&&(s.Rb(0,"div",23),s.Dc(1),s.Qb()),2&t){const t=s.fc(2);s.zb(1),s.Gc(" ",t.currencySelect," ",t.product.price," ")}}function p(t,c){if(1&t&&(s.Rb(0,"div",23),s.Dc(1),s.gc(2,"number"),s.Rb(3,"span"),s.Dc(4),s.gc(5,"number"),s.Qb(),s.Rb(6,"span",24),s.Dc(7),s.Qb(),s.Qb()),2&t){const t=s.fc(2);s.zb(1),s.Gc(" ",t.currencySelect," ",s.hc(2,5,t.product.priceDiscount)," "),s.zb(3),s.Gc(" ",t.currencySelect," ",s.hc(5,7,t.product.price)," "),s.zb(3),s.Fc(" (",t.product.discount," %) ")}}function g(t,c){if(1&t&&(s.Rb(0,"option",16),s.Dc(1),s.Qb()),2&t){const t=c.$implicit;s.lc("value",t.id),s.zb(1),s.Ec(t.platform.name)}}const m=function(t){return["/games/details",t]};function f(t,c){if(1&t&&(s.Rb(0,"div",25),s.Rb(1,"a",26),s.Nb(2,"img",27),s.Qb(),s.Qb()),2&t){const t=c.$implicit;s.zb(1),s.oc("title","",t.name," ( ",t.description,")"),s.lc("routerLink",s.qc(6,m,t.id)),s.zb(1),s.oc("alt","",t.name," ( ",t.description,")"),s.lc("src",t.img,s.wc)}}function h(t,c){if(1&t){const t=s.Sb();s.Rb(0,"div",1),s.Rb(1,"div",2),s.Rb(2,"div",3),s.Bc(3,b,1,2,"img",4),s.Qb(),s.Rb(4,"div",5),s.Nb(5,"img",6),s.Qb(),s.Rb(6,"div",7),s.Rb(7,"h4",8),s.Dc(8),s.Qb(),s.Rb(9,"div",2),s.Rb(10,"div",9),s.Nb(11,"shop-rating",10),s.Qb(),s.Rb(12,"div",9),s.Bc(13,u,2,2,"ng-template",null,11,s.Cc),s.Bc(15,p,8,9,"div",12),s.Qb(),s.Rb(16,"div",9),s.Dc(17),s.Nb(18,"hr"),s.Rb(19,"shop-qty-selector",13),s.dc("updateValue",(function(c){return s.vc(t),s.fc().changeValue(c)})),s.Qb(),s.Qb(),s.Qb(),s.Nb(20,"br"),s.Rb(21,"span",14),s.Dc(22,"Plataformas:"),s.Qb(),s.Dc(23,"\xa0 "),s.Rb(24,"select",15),s.dc("change",(function(c){return s.vc(t),s.fc().selectOtherPlatform(c)})),s.Rb(25,"option",16),s.Dc(26),s.Qb(),s.Bc(27,g,2,2,"option",17),s.Qb(),s.Rb(28,"button",18),s.dc("click",(function(){return s.vc(t),s.fc().addToCart()})),s.Nb(29,"i",19),s.Dc(30,"\xa0\xa0 A\xf1adir"),s.Qb(),s.Qb(),s.Qb(),s.Nb(31,"hr"),s.Rb(32,"h3",20),s.Dc(33,"Juegos que te puedan interesar"),s.Qb(),s.Rb(34,"div",2),s.Bc(35,f,3,8,"div",21),s.Qb(),s.Qb()}if(2&t){const t=s.uc(14),c=s.fc();s.zb(3),s.lc("ngForOf",c.screens),s.zb(2),s.lc("src",c.selectImage,s.wc),s.zb(3),s.Gc("",c.product.name," ( ",c.product.description,")"),s.zb(3),s.lc("rating",c.product.rating),s.zb(4),s.lc("ngIf",c.product.discount)("ngIfElse",t),s.zb(2),s.Fc(" Stock: ",c.product.stock," "),s.zb(2),s.lc("qty",c.product.qty)("stock",c.product.stock),s.zb(6),s.lc("value",c.product.id),s.zb(1),s.Ec(c.product.description),s.zb(1),s.lc("ngForOf",c.relationalProducts),s.zb(8),s.lc("ngForOf",c.randomItems)}}const v=[{path:"",component:(()=>{class t{constructor(t,c,n){this.productService=t,this.activatedRoute=c,this.cartService=n,this.currencySelect=r.b,this.randomItems=[],this.screens=[],this.relationalProducts=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{console.log("parametro detalles",+t.id),Object(o.d)("Cargando datos","Espera mientras carga la informaci\xf3n"),this.loading=!0,this.loadDataValue(+t.id)}),this.cartService.itemsVar$.subscribe(t=>{console.log(t),this.product.qty=0!==t.subtotal?this.findProduct(+this.product.id).qty:1})}findProduct(t){return this.cartService.cart.products.find(c=>+c.id===t)}loadDataValue(t){this.productService.getItem(t).subscribe(t=>{console.log(t),this.product=t.product;const c=this.findProduct(+this.product.id);this.product.qty=void 0!==c?c.qty:this.product.qty,this.selectImage=this.product.img,this.screens=t.screens,this.relationalProducts=t.relational,this.randomItems=t.random,this.loading=!1,Object(o.a)()})}changeValue(t){this.product.qty=t}selectOtherPlatform(t){console.log(t.target.value),this.loadDataValue(+t.target.value)}selectImgMain(t){this.selectImage=this.screens[t]}addToCart(){this.cartService.manageProduct(this.product)}}return t.\u0275fac=function(c){return new(c||t)(s.Mb(a.a),s.Mb(i.a),s.Mb(l.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-details"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["id","screens-section",1,"col-md-1"],["class","img-fluid mini",3,"src","alt","click",4,"ngFor","ngForOf"],[1,"col-md-7"],["alt","",1,"img-fluid","main-img",3,"src"],[1,"col-md-4"],[1,"my-3"],[1,"col-lg-12"],[3,"rating"],["noDiscount",""],["class","price",4,"ngIf","ngIfElse"],[3,"qty","stock","updateValue"],[1,"h5"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-dark","mt-3",3,"click"],[1,"fas","fa-cart-plus"],[1,"my-4"],["class","col-md-2 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"img-fluid","mini",3,"src","alt","click"],[1,"price"],[1,"discount-percentage"],[1,"col-md-2","col-sm-6","mb-4"],[3,"routerLink","title"],[1,"img-fluid","more-games",3,"src","alt"]],template:function(t,c){1&t&&s.Bc(0,h,36,14,"div",0),2&t&&s.lc("ngIf",c.product&&!c.loading)},directives:[e.m,e.l,d.i,d.g,i.d],pipes:[e.e],styles:[".price[_ngcontent-%COMP%]{font-size:22px;font-weight:800;color:#cc1c39}.price[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;margin-left:5px;margin-bottom:12px}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#999;text-decoration:line-through}.price[_ngcontent-%COMP%]   span.discount-percentage[_ngcontent-%COMP%]{text-decoration:none}.price-total[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:-7px}.container[_ngcontent-%COMP%]{margin-top:25px}.mini[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width:600px){#screens-section[_ngcontent-%COMP%]{display:none}}.main-img[_ngcontent-%COMP%], .more-games[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;display:block;height:100%;width:100%}.more-games[_ngcontent-%COMP%]{max-height:105px}"]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(c){return new(c||t)},imports:[[i.e.forChild(v)],i.e]}),t})(),R=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(c){return new(c||t)},imports:[[e.c,O,d.j,d.h]]}),t})()}}]);